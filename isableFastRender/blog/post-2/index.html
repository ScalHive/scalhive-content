<!DOCTYPE html>
<html lang="en">
  <head itemscope><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    
    <title>Trank Based Development: Branch for release | ScalHive DEV</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="Original article Branch: only when necessary, on incompatible policy, late, and instead of freeze Laura Wingerd &amp; Christopher Seiwald (1998’s High-Level SCM Best Practices white paper from Perforce) If a team is pushing production releases monthly, then they are also going to have to push bug-fix releases between planned releases. To facilitate that, it is common for Trunk-Based Development Teams to make a release branch on a just in time basis - say a few days before the release.">
    <meta name="generator" content="Hugo 0.122.0">
    
    
    

    
      <meta name="robots" content="noindex, nofollow">
    

    
<link rel="stylesheet" href="/ananke/css/main.min.css" >



    
    
    
      
<link rel="shortcut icon" href="/img/scalhive_logo.ico" type="image/x-icon" >


    

    
    
    <meta property="og:title" content="Trank Based Development: Branch for release" >
<meta property="og:description" content="Original article Branch: only when necessary, on incompatible policy, late, and instead of freeze Laura Wingerd &amp; Christopher Seiwald (1998’s High-Level SCM Best Practices white paper from Perforce) If a team is pushing production releases monthly, then they are also going to have to push bug-fix releases between planned releases. To facilitate that, it is common for Trunk-Based Development Teams to make a release branch on a just in time basis - say a few days before the release." >
<meta name="type" property="og:type" content="article" >
<meta property="og:url" content="http://localhost:1313/blog/post-2/" ><meta property="article:section" content="blog" >
<meta property="article:published_time" content="2024-01-28T10:02:57+02:00" >
<meta property="article:modified_time" content="2024-01-28T10:02:57+02:00" >
<meta itemprop="name" content="Trank Based Development: Branch for release">
<meta itemprop="description" content="Original article Branch: only when necessary, on incompatible policy, late, and instead of freeze Laura Wingerd &amp; Christopher Seiwald (1998’s High-Level SCM Best Practices white paper from Perforce) If a team is pushing production releases monthly, then they are also going to have to push bug-fix releases between planned releases. To facilitate that, it is common for Trunk-Based Development Teams to make a release branch on a just in time basis - say a few days before the release.">
<meta itemprop="type" content="article" >
        <meta itemprop="datePublished" content="2024-01-28T10:02:57+02:00" >
    

    
        <meta itemprop="dateModified" content="2024-01-28T10:02:57+02:00" >
    

    <meta itemprop="wordCount" content="835">
<meta itemprop="keywords" content="development,VCS,work," >
<meta name="twitter:card" content="summary" ><meta name="twitter:title" content="Trank Based Development: Branch for release" >
<meta name="twitter:description" content="Original article Branch: only when necessary, on incompatible policy, late, and instead of freeze Laura Wingerd &amp; Christopher Seiwald (1998’s High-Level SCM Best Practices white paper from Perforce) If a team is pushing production releases monthly, then they are also going to have to push bug-fix releases between planned releases. To facilitate that, it is common for Trunk-Based Development Teams to make a release branch on a just in time basis - say a few days before the release." >

	<script defer src="/js/scrolling.js"></script>
<script defer src="/js/navigation.js"></script>
<style>
    :root {
        --site-color: ;
    }
    .image-header {
        position: fixed;
        top: 0;
        width: 100%;
        background: url("/img/try_small.webp") left;
        box-shadow: 0 6px 10px 0 rgba(0, 0, 0, 0.4);
        z-index: 97;
    }
</style>

  </head>

  <body style="background-color:#FEFEFA;" class="ma0 avenir bg-white">
    <div class="page-container">
      <button onclick="topFunction()" id="btnBackToTop" ></button>
      <div class="page-content">
        
   
  


<div id="menu-desktop">

  
  <header class="cover bg-right" style="background-image: url('http://localhost:1313/static-blog-images/post-2/banner.png');">
    <div class="bg-black-30">
      <nav class="pv2 ph3 ph4-l sticky-header main-navigation">
  <div class="flex justify-between items-center center">
    <div class="flex items-center f5 f4-l fw4 pl4-l white">
    <a href="/">
      
        <img src="/img/scalhive_logo.png" class="w100 mw3-l v-mid site-logo" alt="ScalHive DEV" >
      
    </a>
      <a href="/" class="f3-l f0-m f0-ns fw2 pl3 hover-white no-underline white-90 text-bold">
        ScalHive DEV
      </a>
    </div>


    <div class="flex flex-row-reverse-ns items-center">
      
      <ul class="pl0 mr3">

        
        

        
        <li class="list f5 f4-l fw4 dib pl4-l pl2 pr3">
          <a class="hover-white no-underline white-90" href="/about/">
            
            <span>About us</span>
            <span></span>
          </a>
        </li>
        
        

        
        <li class="list f5 f4-l fw4 dib pl4-l pl2 pr3">
          <a class="hover-white no-underline white-90" href="/blog/">
            
            <span>Blog</span>
            <span></span>
          </a>
        </li>
        
        

        
        <li class="list f5 f4-l fw4 dib pl4-l pl2 pr3">
          <a class="hover-white no-underline white-90" href="/services/">
            
            <span>Services</span>
            <span></span>
          </a>
        </li>
        
        

        
        <li class="list f5 f4-l fw4 dib pl4-l pl2 pr3">
          <a class="hover-white no-underline white-90" href="/contacts/">
            
            <span>Contacts</span>
            <span></span>
          </a>
        </li>
        
        
      </ul>
      
      

    </div>

    
  </div>
</nav>

        
        <div class="tc p-banner-lg ph3 ph4-ns w-70 w-100-ns center">
          <h1 class="f2 f1-l f3-ns white-90 lh-title">Trank Based Development: Branch for release</h1>
          
        </div>
        
    </div>
  </header>

</div>


<div id="menu-mobile">
  <nav class="topnav">

  <div class="flex justify-between items-center center pv2 ph3 bg-white">
    <div class="flex f5 f4-l fw4 pl4-l dark-gray">
      <a href="/">
        
          
          <img src="/img/scalhive_logo.png" class="w100 mw3-l v-mid site-logo" alt="ScalHive DEV" >
          
        
      </a>
      <a href="/" class="f3-l f0-m f0-ns fw2 pl3 hover-white no-underline white-90 text-bold">
        ScalHive DEV
      </a>
    </div>
    <div class="flex items-center">
      


      
      <div class="mr2-ns v-mid">
        <a href="javascript:void(0);" class="" id="site-icon-open" onclick="toggleFunction()">
          <svg class="v-mid" viewBox="0 0 16 16" aria-hidden="true" width="2em" height="2em">
            <path fill-rule="evenodd" d="M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z"/>
          </svg>
        </a>
        <a href="javascript:void(0);" class="" id="site-icon-close" onclick="toggleFunction()">
          <svg class="v-mid" viewBox="0 0 16 16" aria-hidden="true" width="2em" height="2em">
            <path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/>
          </svg>
        </a>
      </div>
    </div>
  </div>

  
  <div id="myLinks" class="tc bg-white">
    <ul id="menu-mobile-list">
      
      <li class="list f5 fw4 parent-menu-line bb b--black-10">
      
      
      
        <li class="list f5 fw4 parent-menu-line bb b--black-10">
          <a class="hover-black no-underline pa2 fw6" href="/about/" style="color:#555555;">
          
          <span>About us</span>
          <span></span>
          </a>
        </li>
      
      
      
        <li class="list f5 fw4 parent-menu-line bb b--black-10">
          <a class="hover-black no-underline pa2 fw6" href="/blog/" style="color:#555555;">
          
          <span>Blog</span>
          <span></span>
          </a>
        </li>
      
      
      
        <li class="list f5 fw4 parent-menu-line bb b--black-10">
          <a class="hover-black no-underline pa2 fw6" href="/services/" style="color:#555555;">
          
          <span>Services</span>
          <span></span>
          </a>
        </li>
      
      
      
        <li class="list f5 fw4 parent-menu-line bb b--black-10">
          <a class="hover-black no-underline pa2 fw6" href="/contacts/" style="color:#555555;">
          
          <span>Contacts</span>
          <span></span>
          </a>
        </li>
      
      
    </ul>
  </div>
  

</nav>

  <div class="sticky-header" id="small-menu">
    <div class="flex justify-between items-center center pv2 ph3 bg-white shadow-4">
      <div class="flex f5 f4-l fw4 pl4-l white">
        <a href="/">
          
          
          <img src="/img/scalhive_logo.png" class="w100 mw3-l v-mid site-logo" alt="ScalHive DEV" >
          
          
        </a>
        <a href="/" class="f3-l f0-m f0-ns fw2 pl3 hover-white no-underline white-90 text-bold">
          ScalHive DEV
        </a>
      </div>
      <div class="flex items-center">
        

        <button class="mr2-ns v-mid" onclick="topFunction();toggleTopFunction()" >
          <svg class="v-mid" viewBox="0 0 16 16" aria-hidden="true" width="2em" height="2em">
            <path fill-rule="evenodd" d="M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z"/>
          </svg>
        </button>
      </div>
    </div>
  </div>

  
  
  <header class="cover bg-right" style="background-image: url('http://localhost:1313/static-blog-images/post-2/banner.png');">
    <div class="bg-black-30">
      
      <div class="tc p-banner-lg p-banner-lg-ns ph3 ph4-ns w-70 w-100-ns center">
        <h1 class="f2 f1-l f3-ns white-90 lh-title">Trank Based Development: Branch for release</h1>
        
      </div>
      
    </div>
  </header>
  
</div>

        <main class="">
          
  

  <article class="flex-l flex-wrap justify-between mw8 center ph3 ph4-m post-content">
    <header class="mt4 w-100">
      <aside class="instapaper_ignoref b helvetica tracked">
          

      </aside>

      <br>
      
      
      
      <time class="f6 mv4 dib tracked" datetime="2024-01-28T10:02:57+02:00">
        2024-01-28</time>
      

      
      
    </header>
    <div class="nested-copy-line-height lh-solid avenir f4-5-l f5-m nested-links dark-gray"><a href="https://trunkbaseddevelopment.com/branch-for-release/" style="color:;" target="_self">Original article</a>
<pre><code>    Branch: only when necessary, on incompatible policy, late, and instead of freeze
</code></pre>
<h6 id="laura-wingerd--christopher-seiwald-1998s-high-level-scm-best-practices-white-paper-from-perforce">Laura Wingerd &amp; Christopher Seiwald (1998’s High-Level SCM Best Practices white paper from Perforce)</h6>
<p>If a team is pushing production releases monthly, then they are also going to have to push bug-fix releases between planned releases.
To facilitate that, it is common for Trunk-Based Development Teams to make a release branch on a just in time basis - say a few days before the release.
That becomes a stable place, given the developers are still streaming their commits into the trunk at full speed.
The incompatible policy (ref Wingerd &amp; Seiwald above), that the release branch “should not receive continued development work”.</p>

<figure>
    <img
        srcset="/blog-images/post-2/figure-1.png 726w,/blog-images/post-2/figure-1_hu1d53d10423b3b9cd1b07283ba7f6798d_25995_480x0_resize_box_3.png 480w"
        sizes="(max-width: 480px) 100vw, 100vw"
        src="/blog-images/post-2/figure-1.png"
        alt="Trunk, two and a half release branches, five releases (two planned, three unplanned), and two cherry-pick bug fixes"class="img-scale-down">
    <figcaption>Trunk, two and a half release branches, five releases (two planned, three unplanned), and two cherry-pick bug fixes</figcaption>
</figure>

<h2 id="hahahugoshortcode358s2hbhb">




    


<span style="color:;" >Who is committing where?</span></h2>
<p>Developers are committing (green dots) at the highest throughput rate to the trunk,
and do not slow up or freeze around a branch-cut or with proximity to a release.
Developers as a group are <strong>not</strong> committing to the release branch (see below).</p>

<figure>
    <img
        srcset="/blog-images/post-2/figure-2.png 728w,/blog-images/post-2/figure-2_hu93256ec740b8264018968231aeee469b_15179_480x0_resize_box_3.png 480w"
        sizes="(max-width: 480px) 100vw, 100vw"
        src="/blog-images/post-2/figure-2.png"
        alt=""class="img-scale-down">
    <figcaption></figcaption>
</figure>

<p>The branch cut itself is a commit.
Subversion and Perforce would technically have a bigger commit here, but all VCS systems in use today would count the commit as ‘lightweight’ in terms of its impact on the history/storage, and the time taken to create.
That red dot is an accidental build break that was fixed (somehow) soon after.</p>
<h2 id="hahahugoshortcode358s4hbhb">




    


<span style="color:;" >Late creation of release branches</span></h2>
<p>Some teams release from a tag on the trunk and do not create a branch at that time.
That in itself is an alternate practice to this one, <strong>“branch for release”</strong>.
Those teams wait for a bug that needs fixing for a released, before creating a branch from the release tag
(if they are not going to just issue another release from the trunk).
Brad Appleton points out that many do not realize that branches can be created retroactively.
That is taken advantage of here in the case of bugs after “release from a tag”, or even changes for point releases.</p>
<h2 id="hahahugoshortcode358s5hbhb">




    


<span style="color:;" >Fix production bugs on Trunk</span></h2>
<p>The best practice for Trunk-Based Development teams is to reproduce the bug on the trunk,
fix it there with a test, watch that be verified by the CI server,
then cherry-pick that to the release branch and wait for a CI server focusing on the release branch to verify it there too.
Yes, the CI pipeline that guards the trunk is going to be duplicated to guard active release branches too.</p>
<p><strong>A cherry-pick is not a regular merge</strong></p>
<p><code>A cherry-pick merge takes a specific commit (or commits) and merges that to the destination branch.  It skips one or more commits that happened before it, but after the branch was cut.  All VCS tools track which commits have been merged and which ones not, so you can do more cherry picks later.</code></p>
<p><strong>Cherry-picks from the trunk to branch ONLY</strong>
You should not fix bugs on the release branch in the expectation of cherry-picking them back to the trunk.
<strong>Why?</strong>
Well in case you forget to do that in the heat of the moment.
Forgetting means a regression in production some weeks later (and someone getting fired).
It can happen if things are being fixed in the night by a tired developer who wants to get back to bed.</p>

<figure>
    <img
        srcset="/blog-images/post-2/figure-3.png 730w,/blog-images/post-2/figure-3_hu3548cce41f1c351770dbb7be101c7fc7_50694_480x0_resize_box_3.png 480w"
        sizes="(max-width: 480px) 100vw, 100vw"
        src="/blog-images/post-2/figure-3.png"
        alt=""class="img-scale-down">
    <figcaption></figcaption>
</figure>

<p>This rule for Trunk Based Development remains difficult to accept, even within teams practicing everything else about Trunk-Based Development.
It takes just one regression though for a policy change to be made for the team.
Of course, sometimes you <strong>absolutely cannot</strong> reproduce the bug on trunk.
In that case you have to do it the other way round, despite everything mentioned above,
but understand you have introduced risk of regression.</p>
<h2 id="hahahugoshortcode358s7hbhb">




    


<span style="color:;" >Patch releases</span></h2>
<p>It could be that your team has pushed a release out from a release branch,
and now has a bug to remediate in production.
If the release cadence suits it,
a cherry-pick of a bug fix from the trunk to the release branch and a point release from the same branch is fine.
<strong>Tag instead of branch</strong>
Releasing from a tag on the trunk is a decent optimization for many teams, if possible.
The tag could be numbered for the release (say v1.1.1), and the branch can be avoided completely.
Perhaps if there is a bug in production and a branch is retroactively created from that tag,
and the patch release (see above) can happen from there.</p>
<h2 id="hahahugoshortcode358s8hbhb">




    


<span style="color:;" >Release branch deletion</span></h2>
<p>Release branches are deleted some time after release activity from them ceases.
Not immediately, but when it is clear release is no longer in production.
Release branches are NOT merged back into trunk.
That is usually when releases from succeeding release branches have gone live.
This is a harmless tidying activity - branches can be undeleted again easily enough in all VCS choices.
In git, a tag needs to be created from the released commit before deleting the release branch,
since dangling commits will be garbage collected.</p>
<ul class="pa0">
  
</ul>
<div class="mt6 instapaper_ignoref">
      
      
      </div>
    </div>




  </article>


<div class="tc pt4">
    <a class="f6 link w-20 w-30-m w-50-ns dim br2 ph3 pv2 mb2 dib white"
       style="background-color:#555555;" href="/contacts/">
    Contact us
    </a>
</div>



        </main>
      </div>
    <footer class="center" id="footer">

    
    <div class="pa4 ph3-ns w-70 w-80-ns center">
        <div class="bb b--black-10"></div>
    </div>

    <div class="tc">
        <div class="f5 f6-ns fw4 no-underline black-70 pb2 ph3">Berezhans&#39;ka St 10 </div>
        <div class="f5 f6-ns fw4 no-underline black-70 pb2 ph3">46027, Ternopil, Ukraine</div>
        <div class="f5 f6-ns fw4 no-underline black-70 pb2 ph3">&#43;38 068 670 2808</div>
    </div>
    <div class="flex justify-between">
        <div class="center tc f6 f7-ns fw4 no-underline black-70 dn dib pv4 ph3 ph4-ns">
            <a class="hover-black black-70" href="http://localhost:1313/"></a>
            Copyright &copy;  ScalHive DEV, 2024
            All rights reserved.
        </div>
        
    </div>
</footer>

    </div>
    <style>
    #consent-notice {font-size: 0.8rem; padding: 1rem 1rem; display: none; text-align: center; position: fixed; bottom: 0; width: 100%; background: #222; color: rgba(255,255,255,0.8);}
    #consent-notice span {margin-right: 1rem;}
    #consent-notice button {cursor: pointer; display: inline-block; width: auto;}
    #consent-notice span a {color: inherit; text-decoration: underline; text-decoration-color: rgba(255,255,255,0.5);}
    #consent-notice button.btn {font-size: 0.8rem; font-weight: normal; height: 1.83rem; color: rgba(255,255,255,0.8); padding: 0.35rem 0.7rem; border: 0; border-radius: 0.25rem; margin-left: 0.5rem;}
    #consent-notice button.btn.manage-consent {background: rgba(255,255,255,0.1); }
    #consent-notice button.btn.deny-consent {background: rgba(255,255,255,0.1); }
    #consent-notice button.btn.approve-consent {background: var(--site-color); font-weight: bold; }

    #consent-overlay {position: fixed; left: 0; top: 0; width: 100%; height: 100vh; display: none; background: rgba(0,0,0,0.75); z-index: 999999; overflow: auto; cursor: pointer;}
    #consent-overlay.active {display: flex;}
    #consent-overlay > div {background: white; width: 100%; max-width: 30rem; padding: 1.75rem; margin: auto; cursor: initial;}
    #consent-overlay > div > div {display: flex; align-items: flex-start; margin-bottom: 1rem;}
    #consent-overlay > div > div:last-child {margin: 0;}
    #consent-overlay h3 {font-size: 1.1rem; font-weight: normal; color: #444444; padding-left: 0.25rem; padding-top: 0; margin-top: 0;}
    #consent-overlay input {margin-top: 0.25rem; margin-right: 0.4rem;}
    #consent-overlay label {}
    #consent-overlay label {font-size: 0.8rem; font-weight: normal; color: #666666; display: block;}
    #consent-overlay .btn { background: var(--site-color); color: rgba(255,255,255,0.8); font-size: 0.8rem; height: 1.83rem; font-weight: bold; margin-right: 0.5rem; border: 0; cursor: pointer; border-radius: 0.25rem; width: calc(100% - 1.24rem);}
    #consent-overlay button.btn.save-consent {background: rgba(0,0,0,0.6); font-weight: normal;}

    @media (max-width: 767px) {
        #consent-overlay > div {padding: 1.75rem 1rem;}
        #consent-notice span {display: block; padding-top: 3px; margin-bottom: 1.5rem;}
        #consent-notice button.btn {position: relative; bottom: 4px;}
    }
</style>
<div id="consent-notice">
    <span>We would like to use <a class="manage-consent" href="#manage-consent">third party code</a> to improve the functionality of this website.</span>
    <button class="btn manage-consent">Manage preferences</button>
    <button class="btn deny-consent">Deny</button>
    <button class="btn approve-consent">Allow</button>
</div>
<div id="consent-overlay">
    <div>
        
        <div>
            <input type="checkbox" id="item0" value="1" name="item0"
                    checked 
                   
            >
            <label for="item0">
                <h3>Google Analytics</h3>
                <p>This code gives us insight into the number of people that visit our website, where they are from and what they are clicking on.</p>
                
                Details:
                <a class="hover-black black-70" href="/about/privacy/#cookies" target="_blank">
                    Privacy statement
                </a>
                
            </label>
        </div>
        
        <div>
            <button id="save-consent" class="btn save-consent" data-consentvalue="0">Save preferences</button>
            <button class="btn approve-consent">Allow all</button>
        </div>
    </div>
</div>
<script>

    const scripts = [];
    scripts[ 0 ] = "/js/ga.js";

    function createCookie(name,value,days) {
        var expires = "";
        if (days) {
            var date = new Date();
            date.setTime(date.getTime() + (days*24*60*60*1000));
            expires = "; expires=" + date.toUTCString();
        }
        document.cookie = name + "=" + value + expires + "; path=/";
    }
    function readCookie(name) {
        var nameEQ = name + "=";
        var ca = document.cookie.split(';');
        for(var i=0;i < ca.length;i++) {
            var c = ca[i];
            while (c.charAt(0)==' ') c = c.substring(1,c.length);
            if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length,c.length);
        }
        return null;
    }
    function eraseCookie(name) {
        createCookie(name,"",-1);
    }
    function denyAllConsentScripts() {
        var consentValue = "";
        scripts.forEach(function(){
            consentValue = consentValue + "0";
        });
        acceptSomeConsentScripts(consentValue);
    }
    function acceptAllConsentScripts() {
        var consentValue = "";
        scripts.forEach(function(){
            consentValue = consentValue + "1";
        });
        acceptSomeConsentScripts(consentValue);
    }
    function acceptSomeConsentScripts(consentValue) {
        setConsentInputs(consentValue);
        createCookie('consent-settings',consentValue,31);
        document.getElementById('consent-notice').style.display = 'none';
        document.getElementById('consent-overlay').classList.remove('active');
        loadConsentScripts(consentValue);
    }
    function loadConsentScripts(consentValue) {
        scripts.forEach(function(value,key){
            
            if(consentValue[key]=="1") {
                var s = document.createElement('script');
                s.type = 'text/javascript';
                s.src = value;
                document.body.appendChild(s);
            }
        });
    }
    function setConsentInputs(consentValue) {
        var elements = document.querySelectorAll('#consent-overlay input:not([disabled])');
        elements.forEach(function(el,index) {
            if(consentValue[index]=="1") el.checked = true;
            else el.checked = false;
        });
    }
    function setConsentValue() {
        var elements = document.querySelectorAll('#consent-overlay input:not([disabled])');
        var consentValue = "";
        elements.forEach(function(el) {
            if(el.checked) consentValue = consentValue + "1";
            else consentValue = consentValue + "0";
        });
        document.getElementById("save-consent").dataset.consentvalue = consentValue;
    }

    if(readCookie('consent-settings')) {
        var consentValue = readCookie('consent-settings').toString();
        
        setConsentInputs(consentValue);
        loadConsentScripts(consentValue);
    } else {
        document.getElementById('consent-notice').style.display = 'block';
    }
    var elements = document.querySelectorAll('.manage-consent');
    elements.forEach(function(el) {
        el.addEventListener("click",function() {
            document.getElementById('consent-overlay').classList.toggle('active');
        });
    });
    var elements = document.querySelectorAll('.deny-consent');
    elements.forEach(function(el) {
        el.addEventListener("click",function() {
            denyAllConsentScripts();
        });
    });
    var elements = document.querySelectorAll('.approve-consent');
    elements.forEach(function(el) {
        el.addEventListener("click",function() {
            acceptAllConsentScripts();
        });
    });
    document.getElementById("save-consent").addEventListener("click",function() {
        setConsentValue();
        acceptSomeConsentScripts(this.dataset.consentvalue);
    });
    document.getElementById("consent-overlay").addEventListener("click",function(e) {
        if (!document.querySelector("#consent-overlay > div").contains(e.target)){
            this.classList.toggle('active');
        }
    });
</script>




  </body>
</html>
